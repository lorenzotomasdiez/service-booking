# BarberPro Payment Environment Variables
# Copy these variables to your main .env file

# Payment Integration (MercadoPago)
# Production Credentials
MERCADOPAGO_ACCESS_TOKEN=APP_USR-your_production_access_token_here
MERCADOPAGO_PUBLIC_KEY=APP_PUB-your_production_public_key_here
MERCADOPAGO_WEBHOOK_SECRET=your_secure_webhook_secret_here

# Test Environment Credentials (for development)
MERCADOPAGO_ACCESS_TOKEN_TEST=TEST-your_test_access_token_here
MERCADOPAGO_PUBLIC_KEY_TEST=TEST-your_test_public_key_here
MERCADOPAGO_WEBHOOK_SECRET_TEST=your_test_webhook_secret_here

# Payment Configuration
MERCADOPAGO_ENVIRONMENT=sandbox
MERCADOPAGO_TIMEOUT=15000
MERCADOPAGO_INTEGRATION_ID=barberpro-v1
MERCADOPAGO_BASE_URL=https://api.mercadopago.com

# Commission Structure (BarberPro Business Model)
PLATFORM_COMMISSION_STANDARD=0.035    # 3.5% standard rate
PLATFORM_COMMISSION_HIGH_VOLUME=0.028 # 2.8% for high-volume providers
PLATFORM_COMMISSION_PREMIUM=0.025     # 2.5% for premium subscribers
PAYOUT_HOLD_DAYS=10                    # Days to hold payment before provider payout
MINIMUM_PAYOUT_AMOUNT=1000             # Minimum ARS amount for payout

# Payment Method Configuration
PAYMENT_INSTALLMENTS_MAX=12            # Maximum installments for credit cards
PAYMENT_TICKET_EXPIRY_DAYS=3          # Expiry for Rapipago/Pago FÃ¡cil tickets
PAYMENT_RETRY_ATTEMPTS=3               # Number of retry attempts for failed payments
PAYMENT_RETRY_DELAY_MS=5000           # Delay between retry attempts

# Argentina Tax Configuration (AFIP)
TAX_IVA_RATE=0.21                     # 21% IVA rate for services
TAX_WITHHOLDING_ENABLED=true          # Enable tax withholding for providers
AFIP_INTEGRATION_ENABLED=false        # Enable AFIP electronic invoice integration
ELECTRONIC_INVOICE_POINT_OF_SALE=1    # AFIP point of sale number

# Webhook Configuration
WEBHOOK_SIGNATURE_VALIDATION=true     # Enable webhook signature validation
WEBHOOK_RETRY_ATTEMPTS=5              # Webhook processing retry attempts
WEBHOOK_TIMEOUT_MS=10000              # Webhook processing timeout

# Queue Configuration (for background payment processing)
PAYMENT_QUEUE_ENABLED=true            # Enable Redis queue for payment processing
PAYMENT_QUEUE_CONCURRENCY=10          # Number of concurrent payment jobs
PAYOUT_QUEUE_ENABLED=true             # Enable queue for payout processing

# Monitoring and Alerting
PAYMENT_SUCCESS_RATE_THRESHOLD=0.95   # Alert if success rate drops below 95%
PAYMENT_RESPONSE_TIME_THRESHOLD=5000  # Alert if response time exceeds 5s
ENABLE_PAYMENT_METRICS=true           # Enable payment metrics collection
PAYMENT_ALERT_EMAIL=admin@barberpro.com.ar

# Security Configuration
PAYMENT_DATA_ENCRYPTION_KEY=your_32_character_encryption_key_here
PCI_COMPLIANCE_MODE=true              # Enable PCI compliance measures
PAYMENT_AUDIT_LOGGING=true            # Enable audit logging for all payment operations

# Development and Testing
ENABLE_PAYMENT_SIMULATION=true        # Enable payment simulation for development
TEST_PAYMENT_SUCCESS_RATE=0.95        # Simulate 95% success rate in test mode
PAYMENT_DEBUG_LOGGING=true            # Enable detailed payment debugging