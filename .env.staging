# ============================================================================
# BarberPro Staging Environment Configuration
# Railway Template Variables: Use ${{Railway.VARIABLE_NAME}} syntax
# ============================================================================

# Application Environment
NODE_ENV=staging
APP_NAME=BarberPro
APP_VERSION=1.0.0
APP_DEBUG=false
PORT=3000
HOST=0.0.0.0

# URLs Configuration
API_BASE_URL=https://staging-api.barberpro.com.ar
APP_URL=https://staging.barberpro.com.ar
FRONTEND_URL=https://staging.barberpro.com.ar
CORS_ORIGIN=https://staging.barberpro.com.ar

# Database Configuration (Railway PostgreSQL)
DATABASE_URL=${{Railway.DATABASE_URL}}
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=8
DATABASE_TIMEOUT=30000

# Redis Configuration (Railway Redis)
REDIS_URL=${{Railway.REDIS_URL}}
REDIS_TTL=1800

# Authentication & Security
JWT_SECRET=${{Railway.JWT_SECRET}}
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_SALT_ROUNDS=10

# Rate Limiting (Relaxed for staging)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# Frontend Configuration
VITE_API_URL=https://staging-api.barberpro.com.ar/api
VITE_APP_NAME=BarberPro (Staging)
VITE_APP_VERSION=1.0.0
VITE_APP_URL=https://staging.barberpro.com.ar

# Argentina Configuration
TIMEZONE=America/Argentina/Buenos_Aires
LOCALE=es-AR
CURRENCY=ARS
COUNTRY_CODE=AR

# Payment Integration (MercadoPago Sandbox)
MERCADOPAGO_ACCESS_TOKEN=${{Railway.MERCADOPAGO_SANDBOX_ACCESS_TOKEN}}
MERCADOPAGO_PUBLIC_KEY=${{Railway.MERCADOPAGO_SANDBOX_PUBLIC_KEY}}
MERCADOPAGO_WEBHOOK_SECRET=${{Railway.MERCADOPAGO_WEBHOOK_SECRET}}
MERCADOPAGO_SANDBOX=true
PAYMENT_CURRENCY=ARS
PAYMENT_SUCCESS_URL=https://staging.barberpro.com.ar/payment/success
PAYMENT_FAILURE_URL=https://staging.barberpro.com.ar/payment/failure

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=${{Railway.SMTP_USER}}
SMTP_PASS=${{Railway.SMTP_PASS}}
FROM_EMAIL=staging@barberpro.com.ar
FROM_NAME=BarberPro Staging

# File Upload & Storage (AWS S3)
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp
AWS_ACCESS_KEY_ID=${{Railway.AWS_ACCESS_KEY_ID}}
AWS_SECRET_ACCESS_KEY=${{Railway.AWS_SECRET_ACCESS_KEY}}
AWS_REGION=sa-east-1
AWS_S3_BUCKET=barberpro-staging-uploads

# Monitoring & Error Tracking
LOG_LEVEL=debug
SENTRY_DSN=${{Railway.SENTRY_DSN}}
SENTRY_ENVIRONMENT=staging
SENTRY_RELEASE=1.0.0
NEWRELIC_LICENSE_KEY=${{Railway.NEWRELIC_LICENSE_KEY}}
NEWRELIC_APP_NAME=BarberPro-Staging

# WhatsApp Business API (Testing)
WHATSAPP_TOKEN=${{Railway.WHATSAPP_TOKEN}}
WHATSAPP_PHONE_NUMBER_ID=${{Railway.WHATSAPP_PHONE_NUMBER_ID}}
WHATSAPP_WEBHOOK_VERIFY_TOKEN=${{Railway.WHATSAPP_WEBHOOK_VERIFY_TOKEN}}

# Development Tools
ENABLE_SWAGGER=true
SWAGGER_HOST=staging-api.barberpro.com.ar

# Argentina Tax Integration (AFIP Sandbox)
AFIP_ENVIRONMENT=sandbox
AFIP_CUIT=${{Railway.AFIP_CUIT}}

# Feature Flags for Staging Testing
FEATURE_PAYMENTS_ENABLED=true
FEATURE_WHATSAPP_ENABLED=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_PUSH_NOTIFICATIONS=false
FEATURE_SOCIAL_LOGIN=false
FEATURE_ADVANCED_BOOKING=true

# Railway Specific
RAILWAY_ENVIRONMENT=staging
RAILWAY_SERVICE_NAME=barberpro-staging

# Performance & Caching
CACHE_TTL=1800
SESSION_SECRET=${{Railway.SESSION_SECRET}}
SESSION_MAX_AGE=86400000

# CDN Configuration
CDN_URL=https://staging-cdn.barberpro.com.ar
STATIC_ASSETS_URL=https://staging-assets.barberpro.com.ar

# Backup Configuration
BACKUP_S3_BUCKET=barberpro-staging-backups
BACKUP_S3_ACCESS_KEY=${{Railway.BACKUP_S3_ACCESS_KEY}}
BACKUP_S3_SECRET_KEY=${{Railway.BACKUP_S3_SECRET_KEY}}
BACKUP_RETENTION_DAYS=7